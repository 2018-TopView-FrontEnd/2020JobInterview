昨天下午投的简历两分钟就被锁了，昨天晚上打电话约时间，加了我微信，微信视频面，让我准备笔纸（果不其然要撸算法），面试官刚开始自我介绍说自己是腾讯视频的
自我介绍
项目部分
说下自己拿手的一个项目，说技术栈，难点

登录模块怎么写的？账号密码有没有加密？怎么加？微信登录怎么弄？code是什么，怎么获取？怎么缓存？
我说缓存在本地
顺势问了web storage区别，indexDB有了解吗？（还好之前有看了点）
为什么缓存在本地？缓存在cookie不好吗？
我说cookie不安全，而且大小有限制，会增加服务器带宽压力什么的
一个字符串而已会增加多大压力吗？
不会...
为什么不安全？
cors，说了refer，还有限制iframe预防
还有吗？
token，说了原理

中间穿插了滑动验证
微信支付和h5支付

移动端适配，说了一半
嗯嗯时间有限，这个先过，这个不算难点吧，有点经验就行

移动端还遇到过什么问题？
说了audio，iOS的一些东西

为什么要封装axios

跨域

基础部分
原型链
tcp三次握手四次挥手，为什么是三次？“背的挺溜”
websocket
说了特性，还有一些新增功能

原理是？

长连接会持续多久？
不知道在哪看到过10个TCP左右时间，后面他说是服务器设定的时间，叫做心跳值，过了一段时间会自动断开连接

重新连接要重新建立TCP连接吗？
懵了个不是

http2多路复用；http3的quick
quick没听过，说是改成UDP什么的
网络方面会什么优化？想到的说出来
预加载，预解析(追问了DNS解析过程)，图片压缩，CDN
this指向

--------------------------------------------------------------------------------
框架部分
我说的他一个个问
react要注意什么
JSX语法
this绑定
组件通信（扩展了封装组件）
setState的异步性，不要再render里setState
生命周期，新的了解过吗（新的看过忘了....）
react有什么优点
虚拟DOM
组件化
首屏优化怎么解决
webpack按需加载
lazy
SSR
webpack做过什么
loader(追问babel-loader有什么缺点，打了文件过大)
代码分割
hash缓存
等等
情景题
写一个时钟
dom方面：刚开始说了css，说到一半说那刻度怎么画，想不出来，说成画布，渐进色，考虑到了刻度的长短

跳动：转动用setInterval，循环，12是临界值，秒针到达十二这个临界点，分针挑，js操作translate:scale;以此类推

为什么用setInterval？准吗？
不准，异步任务，一般比实际值小

怎么解决？
setTimeout模仿setInterval，递归

为什么这样就准？
函数调用后才进队列blabla，反正感觉不是他想要的答案

还有吗？
用css动画，设置无线循环播放，三个针的延迟时间不同

知道requestAnimate吗？（好像是这个单词？）
之前看过，没去深入了解

这个时钟我要限时秒杀的时候看，用户的系统时间不对？怎么做？美国时间的用户也要显示北京时间
一开始都不知道他要为什么，后面想起来new Date()获取的是系统时间，说像后台获取时间，再用时钟显示；美国时间就网上获取时间差做计算就好

那准吗
不准，网络请求需要时间

怎么解决
减去2rtt时间?说有点理想化，不过算是一个方法吧

编程题
每道五分钟，纸撸拍照，说是要存档
原型链结合this的一道题，有点忘了，反正他说我原型链这块回去好好补555
Date挂一个方法，实现时间中文化，同时口语化

我写编程题的时候一直在跟我聊天。什么太可惜了呀，前面蛮好的，我们部门希望找一个基础扎实点的呀，你们这群小朋友怎么一个个到了实战就这样呢？来实习的话可以实习多久blabla，就感觉凉凉又挺搞笑的，第一次碰到这样的面试官哈哈哈

提问环节
师兄你部门是做什么的
之前那道websocket的


end——2h